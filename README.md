Правила игры "бедные птички"
-----------------------------------
### У игрока есть всего 100 рублей на старте.

Цель - покупать птиц у РАЗНЫХ поставщиков\продавцов,
затем ждать, когда птицы снесут яйца.
А после продавать их. Будь то на базаре или целым компаниям

ПОКУПКА ПТИЦ
--------
Будет несколько видов магазинов
Вначале это базар

У базара такие характеристики:

    1. Птицы дешевые (-x% от их цены)
    2. На птиц нет справки (см.далее, что такое справка)

###СПРАВКА

Если у птицы нет справки, то продажа яиц этой птицы - нелегальный бизнес.
За продажу яиц птиц без справки будет взниматься штраф в размере 5% от текущей продажи
Плюс такие яйца буду стоить дешевле, (-10% от цены)

На каждую птицу можно сделать справку (200р)

ПРОДАЖА ПТИЦ
------
Вначале игроку доступен только базар, когда у игрока будет больше птиц,
больше продажи, то он сможет сотрудничать с птицефермами, частниками и другими.
---------------------------------------------------------

Птицы будут нести яйца, учитывая их текущую плодоносность.
Потом игрок будет собирать яйца
(А если их не собирать более 2х дней, то они портятся и исчезают.
А плодоносность птиц от этого уменьшится)

ПРОДАЖА ЯИЦ
---------------------------------------------------------
Собранные яйца можно продавать.
Как и магазинов, мест продажи будет несколько:
Базар, частные компании по продаже яиц, обычные люди

Характеристики базара:

    1 Стоимость яиц уменьшается на 5%
    2 Не нужна справка на птиц для продажи
    3 Маленький спрос (В день до 100 яиц)
    4 Нужна справка за 50 рублей для продажи (необязательно, 10 рублей штраф)

Характеристики компании ООО «Чебаркульская птица»:

    1 Стоимость яиц увеличивается на 5%
    2 Справка на птиц обязательна
    3 Средний спрос (В день до 1000 яиц)
    4 Нужна справка за 3000р о доходаъ (>1000р в день) и кол-во птиц(>30)

ПТИЦЫ
--
В игре будет куча самых разнообразных птиц.
От просто красивых, которые почти не несут яйца, и яйца их дешевые.
До уродов, которые постоянно срут и требуют заботы, но их яйца очень дорогие

Тех.информация
--------

###Характеристики продавцов (для таблицы sellers)

У продавцов будут следующие поля

Name, image, description

Чтобы определить какая справка будет у птиц есть поле certificate,
в нем будет id сертификата. Под сертификаты будет отдельная таблица

У продавцов будет бонус к цене птицы - discount (проценты положительные/отрицательные)
Если птица стоит 100 рублей, а discount 20%, что птица продается за 120 бублей
А если discount -40%, то птица продается за 60 рублей

Условия договора, чтобы можно было покупать птиц именно у этого продавца
birds_count - кол-во птиц ,нужное, чтобы получить доступ к продавцу
price - цена, чтобы получить доступ

###Характеристики сертификата (для таблицы certificates)

Вообще сертификат выдает врач.:

    name - название
    
    minimum_bird_price - минимальная цена птиц, на которых распространяется сертификат
    
    price_bonus - бонус в процентах к цене продаваемых яиц (Повышение качества яиц, то есть врач дал таблеточку))0)
    
    fertility_bonus - бонус в процентах к плодовитости птицы (Врач дал виагру)
    
    demand_bonus - бонус в процентах к спросу на яйца птицы (врач рекомендует эти яйца)
    
    litter_bonus - бонус в процентах к помету птицы (Врач дал птице лекарство от поноса)

    care_bonus - бонус в процентах к бонусу за уход (Врач одомашнил птицу)
    
    price - цена сертификата
    
    grade(0-10) - на сколько сертификат крутой (легендарный, обычный и тд)


### Как считать яйца?

В игре много разных птиц. У каждой из них может быть сертификат, который меняет цену 1 яйца, спрос на яйца итд
Значит, не получится просто считать кол-во яиц. Нужно считать кол-во яиц от каждой птицы + хранить зарактеристики
сертификата и птицы.

У нас есть таблицы

    ________________user
    
    ___________bird_seller_user
    
    _______bird -> bird_seller <- seller -> certificate

В `bird_seller_user` хранятся sold_bird (`bird_seller` таблица, из которой можно вытащить `bird`, `seller`, `certificate`).
А так же `user_id`.

Нужно сделать такую таблицу ,в которой можно хранить для каждого пользователя
кол-во яиц, их цену и спрос на них. Так же нужно добавить id предложения, чтобы было понятно, к какой птице
относится. Больше ничего в принципе не нужно.

Итого, такая таблица `eggs`

    `user_id` | `price` | `deamnd` | `count` | `bird_seller_id`


Каждый час нужно обновлять эту таблицу. Брать значения из `bird_seller_id`,
затем считать кол-во и обновлять его. И так для каждой `sold_bird` (`bird_seller`)

Чтобы каждый час обновлять таблицу, нужно создать планировщик laravel - schedule.
Но, чтобы он работал, нужно не забыть добавить запись cron
`crontab -e` в терминале, чтобы открыть записи cron
Туда добавляем ` * * * * * php /var/www/poorbirds.com/artisan schedule:run >> /dev/null 2>&1`


### Контракты

-----------------------------------
В игре будет страница с контрактами, которые можно купить.
ЧТо такое контракт?
Это договор с каким-то человеком или компанией, по которому улучшаются или ухудшаются
некоторые условия при продаже яиц (спрос, цена яйца, продажа помёта)

Проще говоря, контракт - договор с кем-то, в котором прописаны условия, которые будут работать
на странице со складом яиц.
------

Например, можно заключить контракт с фермером дядей Колей. По нему дядя Коля
за ящик водки будет покупать у вас помет (навоз) для своей фермы на удобрения.
1 копейка за 100 ед. помёта. Будет проверятся

------

Например, контракт с тётей Зиной: она будет гладить ваших птиц.

------

Например, контракт с трактористом Толиком-католиком можно за донат заключить договор,
чтобы он автоматически собирал помёт с вашей фермы и продавал бы его.

------

Будут также компании, которые будут давать бонус на спрос, если продавать яйца им.

------

### Как запихнуть контракты в БД??

Дядя Коля - продажа помета (litter + price)

Тётя Zина - гладит птиц (care + time)

Толик-католик - автоматически собирает помёт (litter, time)

Какая-то компания 1 - при наличии контракта яйца продаются через эту
компанию с повышенным спросом (demand, bonus)

Какая-то компания 2 - при наличии контракта, яйца продаются
с повышенной ценой (egg price, bonus)

-----

Нельзя как-то конкретно объединить эти данные, поэтому я думаю, можно добавить
поле script_id или script_name. В нем будет написано id скрипта или название действия,
по которому мы будем определять где и как использовать данные.

-----

Например, script_name = 'sell_litter', значит, когда пользователь убирает помёт,
будем искать у него контракт с script_name = 'sell_litter', брать из него payload,
чтобы получать кол-во рублей, за продажу.

-----

# BANK
В игре будет банк, в котором можно взять кредит, 
купить элитную игровую валюту GTN Густинианы, а также
обменять GTN Густинианы на игровые RUB рубли.

####Обмен валют
У GTN - RUB будет своё курс. И он будет каждый час изменятся каждый час.
У банка будет таблица, в которой будут записаны все курсы.

    rub   | donate_rub |
    ------+------------+
    112,10| 1,34       |

>Где колонка rub - это курс **GTN** - **игровой рубль** (1 GTN = 112,1 игровых рублей),
а колонка donate_rub - это курс **реальный рубль** - **GTN** (1 RUB = 1,34 GTN).

Так же можно будет играть на курсе других валют, которые мы
будем брать из банковских API с курсами.

#### Кредит
В банке можно будет взять кредит под проценты

В начале игрок имеет засерыша - 6,6 рублей в час в среднем
Запердыш - 10 рублей в час в среднем

>Игрок берет кредит на запердыша - 176 рублей.
кредит 0% - 176/(6,6 + 10) = 10.6 часов, чтобы выплатить
кредит 25% - 220/(6,6 + 10) = 13.25 часов, чтобы выплатить
кредит 50% - 264/(6,6 + 10) = 15.9 часов, чтобы выплатить
кредит 100% 352/(6,6 + 10) = 21.2 часов, чтобы выплатить

>Игрок берет кредит на голубя - 21400 рублей.
кредит 100% - 42800/(160+600) = 56,3 часа, чтобы выплатить

ИТОГО КРЕДИТ ДОЛЖЕН БЫТЬ ПОД 100% В ЧАС




